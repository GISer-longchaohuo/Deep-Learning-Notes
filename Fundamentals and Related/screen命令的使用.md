# screen命令的使用

## 前言

实际工作中，我们经常需要通过SSH 或者telent远程登录到Linux服务器完成一些任务，其中有些任务需要很长时间（短则几小时，长则几天）的运行才能完成，比如训练深度学习模型、系统备份、ftp传输等。我们必须等待任务执行完毕，在此期间不能关掉窗口或者断开连接，否则这个任务就会被杀掉，一切半途而废。因此我们使用的电脑在等待任务完成期间，不能快速切换到其他任务，也不能被关闭，只能等待浪任务完成，白白浪费时间和资源。

> **GNU Screen**是一款由GNU计划开发的用于[命令行](https://so.csdn.net/so/search?q=命令行&spm=1001.2101.3001.7020)终端切换的自由软件。用户可以通过该软件同时连接多个本地或远程的命令行会话，并在其间自由切换。
>
> GNU Screen可以看作是窗口管理器的命令行界面版本。它提供了**统一的管理多个会话的界面和相应的功能**。
>
> 有关更多信息请访问官方网站：http://www.gnu.org/software/screen/



## screen命令的优点

- 支持会话恢复
- 支持多窗口
- 会话共享





## screen的参数

```
-A 　          将所有的视窗都调整为目前终端机的大小
-d  　         将指定的screen作业离线
-h  　         指定视窗的缓冲区行数
-m             即使目前已在作业中的screen作业，仍强制建立新的screen作业
-r             恢复离线的screen作业
-R 　          先试图恢复离线的作业。若找不到离线的作业，即建立新的screen作业
-s 　          指定建立新视窗时，所要执行的shell
-S             指定screen作业的名称
-v 　          显示版本信息
-x 　          恢复之前离线的screen作业
-ls或-list 　  显示目前所有的screen作业
-wipe 　       检查目前所有的screen作业，并删除已经无法使用的screen作业

```



## 常用命令汇总

### 新建窗口

```python
screen -S 窗口名称
```



### **列出当前所有screen窗口**

```
screen -ls
```



### **回到已有的screen窗口**

```
screen -r 窗口名称
```



### 远程结束窗口

```
screen -d 作业名称
```



### 结束当前的这个窗口并回到某个窗口中

```
screen -d -r 作业名称
```





### 命令快捷键

```
Ctrl+a c ：创建窗口
Ctrl+a w ：窗口列表
Ctrl+a n ：下一个窗口
Ctrl+a p ：上一个窗口
Ctrl+a 0-9 ：在第0个窗口和第9个窗口之间切换
Ctrl+a K(大写) ：关闭当前窗口，并且切换到下一个窗口（当退出最后一个窗口时，该终端自动终止，并且退回到原始shell状态）
exit ：关闭当前窗口，并且切换到下一个窗口（当退出最后一个窗口时，该终端自动终止，并且退回到原始shell状态）
Ctrl+a d ：退出当前终端，返回加载screen前的shell命令状态
Ctrl+c :结束当前的程序
C-a k：杀掉当前窗口
```



原文链接：https://blog.csdn.net/weixin_45004203/article/details/115369770

